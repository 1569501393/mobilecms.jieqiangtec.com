<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>管理员管理</title>
    <link href="__ROOT__/statics/admin/Plugins/layui/css/layui.css" rel="stylesheet" />
    <link rel="stylesheet" href="__ROOT__/statics/admin/css/common.css">
</head>
<body class="u-page-body">

<button class="layui-btn" id="add">添加管理员</button>
<table class="layui-table" lay-size="sm">
    <thead>
    <tr>
        <th>ID</th>
        <th>账号</th>
        <th>角色</th>
        <th>描述</th>
        <th>添加时间</th>
        <th>操作</th>
    </tr>
    </thead>
    <tbody>
    <foreach name="admin_list" item="vo">
        <tr>
            <td>{$vo.id}</td>
            <td>{$vo.user_name}</td>
            <td>{$vo['role_name']}</td>
            <td>{$vo.desc}</td>
            <td>{:date('Y-m-d H:i:s', $vo['add_time'])}</td>
            <td><a class="layui-btn layui-btn-mini edit" data-url="{:U('Admin/edit', 'id='.$vo['id'])}">编辑</a></td>
        </tr>
    </foreach>
    </tbody>
</table>

</body>
<script src="__ROOT__/statics/admin/plugins/layui/layui.js"></script>
<script>
    layui.use(['layer'], function () {
        var layer = layui.layer,
            $ = layui.jquery;

        //添加角色
        $('#add').click(function () {
            layer.open({
                type: 2,
                title: '添加管理员',
                scrollbar: false,
                shade: 0.5,
                area: ['500px', '440px'],
                content: '{:U("adminAdd")}'
            });
        });

        //编辑角色
        $('.edit').click(function () {
            var url = $(this).data('url');
            layer.open({
                type: 2,
                title: '编辑管理员',
                scrollbar: false,
                shade: 0.5,
                area: ['500px', '440px'],
                content: url
            });
        });

    });
</script>
</html>